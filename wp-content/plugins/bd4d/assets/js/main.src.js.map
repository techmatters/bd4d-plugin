{"version":3,"sources":["src/main.js"],"names":[],"mappings":"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","file":"main.src.js","sourcesContent":["window.bd4d = {\n\tgcaptchaHandler: function() {\n\t\tgrecaptcha\n\t\t\t.execute( localize.sitekey, { action: 'validate_captcha' } )\n\t\t\t.then( function( token ) {\n\t\t\t\tdocument.getElementById( 'g-recaptcha-response' ).value = token;\n\t\t\t} );\n\t},\n\n\tprocessSubscription: function( event ) {\n\t\tevent.preventDefault();\n\n\t\tlet data = {\n\t\t\t_ajax_nonce: localize._ajax_nonce,\n\t\t\taction: 'send_message',\n\t\t\ttoken: document.getElementById( 'g-recaptcha-response' ).value,\n\t\t\temail: event.target.querySelector( 'input[name=\"email\"]' ).value\n\t\t};\n\n\t\tconst firstName = event.target.querySelector( 'input[name=\"first_name\"]' );\n\t\tconst lastName = event.target.querySelector( 'input[name=\"last_name\"]' );\n\t\tconst affiliation = event.target.querySelector( 'input[name=\"affiliation\"]' );\n\t\tconst source = event.target.querySelector( 'select[name=\"source\"]' );\n\t\tconst message = event.target.querySelector( 'textarea[name=\"message\"]' );\n\t\tconst newsletter = event.target.querySelector( 'input[name=\"newsletter\"]' );\n\t\tconst supporter = event.target.querySelector( 'input[name=\"supporter\"]' );\n\n\t\tif ( firstName ) {\n\t\t\tdata.first_name = firstName.value;\n\t\t}\n\n\t\tif ( lastName ) {\n\t\t\tdata.last_name = lastName.value;\n\t\t}\n\n\t\tif ( affiliation ) {\n\t\t\tdata.affiliation = affiliation.value;\n\t\t}\n\n\t\tif ( source ) {\n\t\t\tdata.source = [ ...source.selectedOptions ].map( o => o.value );\n\t\t}\n\n\t\tif ( message ) {\n\t\t\tdata.message = message.value;\n\t\t}\n\n\t\tif ( newsletter.checked ) {\n\t\t\tdata.newsletter = newsletter.value;\n\t\t}\n\n\t\tif ( supporter.checked ) {\n\t\t\tdata.supporter = supporter.value;\n\t\t}\n\n\t\tjQuery.ajax( {\n\t\t\ttype: 'POST',\n\t\t\turl: localize._ajax_url,\n\t\t\tdata: data,\n\t\t\tsuccess: res => {\n\t\t\t\tif ( true === res.success ) {\n\t\t\t\t\tjQuery( event.target.querySelector( '.form-fields' ) ).slideUp();\n\t\t\t\t\tevent.target.querySelector( '.message' ).textContent = localize.success;\n\t\t\t\t} else {\n\t\t\t\t\tlet errorMessage = localize.error_codes[res?.data?.error_code];\n\t\t\t\t\tif ( 4 === res?.data?.error_code ) {\n\n\t\t\t\t\t\t// 4 is a JSON parsing error.\n\t\t\t\t\t\terrorMessage += ` (${res?.data?.error_message})`;\n\t\t\t\t\t}\n\t\t\t\t\tevent.target.querySelector( '.message' ).textContent = errorMessage;\n\n\t\t\t\t\t// Reset the CAPTCHA after a failure.\n\t\t\t\t\twindow.bd4d.gcaptchaHandler();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tsetup: function() {\n\t\tconst subscribeForm = document.getElementById( 'inline-subscribe' );\n\n\t\tif ( subscribeForm ) {\n\t\t\tsubscribeForm.addEventListener( 'submit', window.bd4d.processSubscription );\n\t\t\tif ( window.grecaptcha ) {\n\t\t\t\tgrecaptcha.ready( window.bd4d.gcaptchaHandler );\n\t\t\t}\n\t\t}\n\t}\n};\n\ndocument.addEventListener( 'DOMContentLoaded', window.bd4d.setup );\n"]}