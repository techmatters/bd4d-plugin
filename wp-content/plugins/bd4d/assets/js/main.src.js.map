{"version":3,"sources":["src/main.js"],"names":[],"mappings":"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","file":"main.src.js","sourcesContent":["window.bd4d = {\n\tgcaptchaHandler: function() {\n\t\tgrecaptcha.execute( localize.sitekey, { action: 'validate_captcha' } ).then( function( token ) {\n\t\t\tdocument.getElementById( 'g-recaptcha-response' ).value = token;\n\t\t} );\n\t},\n\n\tprocessSubscription: function( event ) {\n\t\tevent.preventDefault();\n\n\t\tlet data = {\n\t\t\t_ajax_nonce: localize._ajax_nonce,\n\t\t\taction: 'send_message',\n\t\t\ttoken: document.getElementById( 'g-recaptcha-response' ).value\n\t\t};\n\n\t\tconst firstName = event.target.querySelector( 'input[name=\"first_name\"]' );\n\t\tconst lastName = event.target.querySelector( 'input[name=\"last_name\"]' );\n\t\tconst emailAddress = event.target.querySelector( 'input[name=\"email\"]' ).value.trim();\n\t\tconst affiliation = event.target.querySelector( 'input[name=\"affiliation\"]' );\n\t\tconst message = event.target.querySelector( 'textarea[name=\"message\"]' );\n\t\tconst newsletter = event.target.querySelector( 'input[name=\"newsletter\"]' );\n\t\tconst supporter = event.target.querySelector( 'input[name=\"supporter\"]' );\n\n\t\tif ( emailAddress ) {\n\t\t\tdata.email = emailAddress.value;\n\t\t}\n\n\t\tif ( firstName ) {\n\t\t\tdata.first_name = firstName.value;\n\t\t}\n\n\t\tif ( lastName ) {\n\t\t\tdata.last_name = lastName.value;\n\t\t}\n\n\t\tif ( affiliation ) {\n\t\t\tdata.affiliation = affiliation.value;\n\t\t}\n\n\t\tif ( message ) {\n\t\t\tdata.message = message.value;\n\t\t}\n\n\t\tif ( newsletter.checked ) {\n\t\t\tdata.newsletter = newsletter.value;\n\t\t}\n\n\t\tif ( supporter.checked ) {\n\t\t\tdata.supporter = supporter.value;\n\t\t}\n\n\t\tconst submitButton = document.querySelector( 'input[type=\"submit\"]' );\n\t\tsubmitButton.setAttribute( 'disabled', 'disabled' );\n\n\t\tjQuery.ajax( {\n\t\t\ttype: 'POST',\n\t\t\turl: localize._ajax_url,\n\t\t\tdata: data,\n\t\t\tsuccess: ( res ) => {\n\t\t\t\tif ( true === res.success ) {\n\t\t\t\t\tjQuery( event.target.querySelector( '.form-fields' ) ).slideUp();\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelectorAll( '#joinbd4dnet .et_pb_text_inner,#joinbd4dnet .form-fields' )\n\t\t\t\t\t\t.forEach( ( item ) => item.classList.add( 'hidden' ) );\n\t\t\t\t\tevent.target.querySelector( '.message' ).classList.remove( 'hidden' );\n\t\t\t\t\tif ( emailAddress ) {\n\t\t\t\t\t\tevent.target\n\t\t\t\t\t\t\t.querySelectorAll( '.message .yes-email' )\n\t\t\t\t\t\t\t.forEach( ( item ) => item.classList.remove( 'hidden' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tevent.target\n\t\t\t\t\t\t\t.querySelectorAll( '.message .no-email' )\n\t\t\t\t\t\t\t.forEach( ( item ) => item.classList.remove( 'hidden' ) );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet errorMessage = localize.error_codes[res?.data?.error_code];\n\t\t\t\t\tif ( 4 === res?.data?.error_code ) {\n\n\t\t\t\t\t\t// 4 is a JSON parsing error.\n\t\t\t\t\t\terrorMessage += ` (${res?.data?.error_message})`;\n\t\t\t\t\t}\n\t\t\t\t\tevent.target.querySelector( '.error-message' ).textContent = errorMessage;\n\n\t\t\t\t\t// Reset the CAPTCHA after a failure.\n\t\t\t\t\twindow.bd4d.gcaptchaHandler();\n\n\t\t\t\t\tsubmitButton.removeAttribute( 'disabled' );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\temailFieldHandler: function( event ) {\n\t\tif ( event.target.value ) {\n\t\t\twindow.bd4d.emailCheckbox.removeAttribute( 'disabled' );\n\t\t\twindow.bd4d.supporterCheckbox.removeAttribute( 'disabled' );\n\t\t} else {\n\t\t\twindow.bd4d.emailCheckbox.removeAttribute( 'checked' );\n\t\t\twindow.bd4d.emailCheckbox.setAttribute( 'disabled', 'disabled' );\n\t\t\twindow.bd4d.supporterCheckbox.removeAttribute( 'checked' );\n\t\t\twindow.bd4d.supporterCheckbox.setAttribute( 'disabled', 'disabled' );\n\t\t}\n\t},\n\n\tsetup: function() {\n\t\tconst subscribeForm = document.getElementById( 'inline-subscribe' );\n\n\t\tif ( subscribeForm ) {\n\t\t\twindow.bd4d.emailField = document.getElementById( 'inline-subscribe-email' );\n\t\t\twindow.bd4d.emailCheckbox = document.getElementById( 'inline-subscribe-newsletter' );\n\t\t\twindow.bd4d.supporterCheckbox = document.getElementById( 'inline-subscribe-supporter' );\n\t\t\twindow.bd4d.emailField.addEventListener( 'input', window.bd4d.emailFieldHandler );\n\n\t\t\tsubscribeForm.addEventListener( 'submit', window.bd4d.processSubscription );\n\t\t\tif ( window.grecaptcha ) {\n\t\t\t\tgrecaptcha.ready( window.bd4d.gcaptchaHandler );\n\t\t\t}\n\t\t}\n\t}\n};\n\ndocument.addEventListener( 'DOMContentLoaded', window.bd4d.setup );\n"]}